<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Configurar HTTPS para el Lector de C√≥digo de Barras</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 900px;
            margin: 50px auto;
            padding: 20px;
            line-height: 1.6;
        }

        h1 {
            color: #333;
        }

        h2 {
            color: #007bff;
            margin-top: 30px;
        }

        .alert {
            padding: 15px;
            margin: 20px 0;
            border-radius: 5px;
            border-left: 4px solid;
        }

        .alert-info {
            background: #e3f2fd;
            border-color: #2196f3;
        }

        .alert-warning {
            background: #fff3cd;
            border-color: #ffc107;
        }

        .alert-success {
            background: #d4edda;
            border-color: #28a745;
        }

        code {
            background: #f5f5f5;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
        }

        pre {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
        }

        .step {
            background: #f9f9f9;
            padding: 15px;
            margin: 15px 0;
            border-radius: 5px;
            border-left: 3px solid #007bff;
        }

        .step h3 {
            margin-top: 0;
            color: #007bff;
        }
    </style>
</head>

<body>
    <h1>üîí Configurar HTTPS para Lector de C√≥digo de Barras</h1>

    <div class="alert alert-warning">
        <strong>‚ö†Ô∏è Importante:</strong> Los navegadores m√≥viles requieren <strong>HTTPS</strong> para acceder a la
        c√°mara por razones de seguridad. En desktop, <code>localhost</code> funciona sin SSL, pero en m√≥viles necesitas
        HTTPS.
    </div>

    <h2>Opci√≥n 1: Usar ngrok (M√°s F√°cil) ‚úÖ</h2>

    <div class="step">
        <h3>Paso 1: Descargar ngrok</h3>
        <p>Visita <a href="https://ngrok.com/download" target="_blank">ngrok.com/download</a> y descarga ngrok para
            Windows.</p>
    </div>

    <div class="step">
        <h3>Paso 2: Extraer y colocar ngrok.exe</h3>
        <p>Extrae <code>ngrok.exe</code> en una carpeta accesible, por ejemplo: <code>C:\ngrok\</code></p>
    </div>

    <div class="step">
        <h3>Paso 3: Ejecutar ngrok</h3>
        <p>Abre PowerShell o CMD en la carpeta donde est√° ngrok y ejecuta:</p>
        <pre>.\ngrok.exe http 80</pre>
        <p><small>Si tu servidor local usa otro puerto (ej: 8080), cambia el 80 por ese puerto.</small></p>
    </div>

    <div class="step">
        <h3>Paso 4: Obtener la URL HTTPS</h3>
        <p>Ngrok te mostrar√° algo como:</p>
        <pre>
Forwarding  https://abc123.ngrok-free.app -> http://localhost:80
        </pre>
        <p>Usa esa URL HTTPS en tu m√≥vil para acceder a la aplicaci√≥n.</p>
    </div>

    <div class="alert alert-success">
        <strong>‚úÖ ¬°Listo!</strong> Ahora puedes acceder desde tu m√≥vil usando la URL HTTPS de ngrok y la c√°mara
        funcionar√° correctamente.
    </div>

    <hr style="margin: 40px 0;">

    <h2>Opci√≥n 2: Certificado SSL Local (M√°s T√©cnico)</h2>

    <div class="alert alert-info">
        <strong>‚ÑπÔ∏è Nota:</strong> Esta opci√≥n es m√°s compleja y requiere configurar Apache/Nginx con SSL. Si buscas
        rapidez, usa ngrok.
    </div>

    <div class="step">
        <h3>Para Apache (XAMPP/WAMP)</h3>
        <ol>
            <li>Genera certificados SSL autofirmados</li>
            <li>Configura <code>httpd-ssl.conf</code></li>
            <li>Habilita el m√≥dulo SSL</li>
            <li>Reinicia Apache</li>
            <li>Acepta el certificado en el dispositivo m√≥vil</li>
        </ol>
        <p><small>Esta opci√≥n requiere aceptar advertencias de seguridad en cada dispositivo.</small></p>
    </div>

    <hr style="margin: 40px 0;">

    <h2>üí° Consejos para Mejorar la Lectura de C√≥digos</h2>

    <div class="step">
        <h3>1. Iluminaci√≥n</h3>
        <ul>
            <li>Usa buena iluminaci√≥n (luz natural o l√°mpara LED)</li>
            <li>Evita sombras sobre el c√≥digo de barras</li>
            <li>No apuntes directamente a fuentes de luz brillante</li>
        </ul>
    </div>

    <div class="step">
        <h3>2. Distancia y Enfoque</h3>
        <ul>
            <li>Mant√©n el c√≥digo a 10-20 cm de la c√°mara</li>
            <li>Espera a que la c√°mara enfoque autom√°ticamente</li>
            <li>Mant√©n el dispositivo estable</li>
        </ul>
    </div>

    <div class="step">
        <h3>3. Calidad del C√≥digo</h3>
        <ul>
            <li>Aseg√∫rate de que el c√≥digo est√© impreso claramente</li>
            <li>Evita c√≥digos arrugados o da√±ados</li>
            <li>Los c√≥digos m√°s grandes son m√°s f√°ciles de leer</li>
        </ul>
    </div>

    <div class="step">
        <h3>4. Tipo de C√≥digo</h3>
        <p>El sistema soporta estos formatos:</p>
        <ul>
            <li><strong>EAN-13 / EAN-8</strong> - M√°s com√∫n en productos comerciales ‚úÖ</li>
            <li><strong>UPC-A / UPC-E</strong> - Com√∫n en productos de EE.UU. ‚úÖ</li>
            <li><strong>Code 128</strong> - Usado en log√≠stica ‚úÖ</li>
            <li><strong>Code 39</strong> - C√≥digos alfanum√©ricos ‚úÖ</li>
        </ul>
    </div>

    <hr style="margin: 40px 0;">

    <h2>üîß Soluci√≥n de Problemas</h2>

    <div class="step">
        <h3>‚ùå "Canvas en negro" en Desktop</h3>
        <p><strong>Soluci√≥n:</strong> Ya est√° arreglado con el nuevo c√≥digo. El problema era timing del modal de
            Bootstrap.</p>
    </div>

    <div class="step">
        <h3>‚ùå "getUserMedia is not defined" en M√≥vil</h3>
        <p><strong>Soluci√≥n:</strong> Usa ngrok para obtener una URL HTTPS o configura SSL en tu servidor.</p>
    </div>

    <div class="step">
        <h3>‚ùå "La c√°mara no enfoca bien"</h3>
        <p><strong>Soluciones:</strong></p>
        <ul>
            <li>Limpia el lente de la c√°mara</li>
            <li>Mejora la iluminaci√≥n</li>
            <li>Usa la c√°mara trasera (mejor calidad)</li>
            <li>Prueba con diferentes c√≥digos de barras</li>
        </ul>
    </div>

    <div class="step">
        <h3>‚ùå "Permiso de c√°mara denegado"</h3>
        <p><strong>Soluci√≥n:</strong></p>
        <ol>
            <li>Ve a la configuraci√≥n del navegador</li>
            <li>Busca "Permisos del sitio" o "Configuraci√≥n del sitio"</li>
            <li>Encuentra tu sitio local</li>
            <li>Permite el acceso a la c√°mara</li>
            <li>Recarga la p√°gina</li>
        </ol>
    </div>

    <hr style="margin: 40px 0;">

    <div class="alert alert-info">
        <strong>üìö Recursos √ötiles:</strong><br>
        ‚Ä¢ <a href="https://ngrok.com/" target="_blank">ngrok.com</a> - T√∫nel HTTPS gratis<br>
        ‚Ä¢ <a href="https://github.com/ericblade/quagga2" target="_blank">QuaggaJS Documentation</a><br>
        ‚Ä¢ Volver a: <a href="test-barcode.html">P√°gina de Prueba</a>
    </div>
</body>

</html>